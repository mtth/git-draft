# TODOs

* [x] Rename work tree to worktree
* [ ] Workspace persistence (see below)
* [ ] Rename git-draft to git-agent and bot -> agent, folio -> draft,
  draft -> revision.

# Ideas

## Command interruption

How should it be done by the user? How do we make sure we handle it
correctly? Useful since some may run for a long time and we may want the
user to keep partial progress.

Claude code allows just hitting escape to interrupt the ongoing
operation. This may not make as much sense for us since changes can't be
visualized live (they are in a separate worktree). Perhaps it's fine if
it emits enough progress notifications?

## Output rendering

Types:

* Tool (operation)
* Status update
* Question (also need to figure out rendering of prompt and answer)

## Specifying a branch to draft from

Useful when creating multiple drafts in parallel perhaps.

## Workspace persistence

Instead of being deleted after each bot run, we should persist it to
reduce overhead if the bot ends up running lengthy steps (dependency
installation, ...).

The folder can be folio-specific:
`$XDG_STATE_HOME/git-draft/worktrees/$folio_id/`. Each time `--new` is
run, we do a fresh checkout of the main worktree's state.
